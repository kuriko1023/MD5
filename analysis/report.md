# UWP算法（第5组）分析报告

## 碰撞攻击
碰撞检测算法：由生日攻击的思路，理论上只需 $\sqrt {2^n} = 2^{n/2}$ 次测试就能找到哈希函数碰撞，推导可得以下公式：

由哈希值数量 $n$ 估算碰撞概率 $p(n)$：
$$p(n) \approx 1-e^{-{n(n-1)/2N}}$$

由碰撞概率 $p$ 和哈希范围 $d$ 估算达到碰撞概率时需要的哈希数量：
$$n(p) \approx \sqrt{2 \cdot d \ln(\frac{1}{1-p})} + \frac{1}{2}$$

由碰撞概率 $p$ 和哈希范围 $d$ 估算碰撞数量：
$$N = n - d + d(\frac{d-1}{d})^n$$

实际检测过程：
* 随机生成1000000个字符串并得到对应哈希值
* 计算所有测例中哈希值的碰撞概率
* 增大测试数据量，碰撞概率逐渐增高，与理论值接近

测试代码运行方法（analysis/src目录下）：
```shell
make
./collision 0
```

检测结果：当测试量增大到1000000时，碰撞概率达到0.56

```
total uuid = 1000000
total hash = 439945
total collision = 560055
P(collision) = 0.560055
```

## 第二原像攻击
```shell
make
./collision 1
```

## 测试
```shell
make
./collision 2
```